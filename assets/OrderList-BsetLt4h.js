import{u as o,j as e,l,a as h}from"./index-CtpoxrkX.js";import{r as i,L as p}from"./react-vendor-B6jIvKX7.js";import"./icons-5ai6tmcJ.js";const j=()=>{const[n,r]=i.useState([]),{showToast:a}=o();return i.useEffect(()=>{(async()=>{try{const d={headers:{Authorization:`Bearer ${JSON.parse(localStorage.getItem("userInfo")).token}`}},{data:c}=await h.get("/api/orders",d);r(c)}catch(t){a("Error fetching orders:",t)}})()},[]),e.jsxs("div",{className:"container",style:{marginTop:"2rem"},children:[e.jsx("h1",{style:{marginBottom:"2rem",fontSize:"clamp(1.5rem, 5vw, 2rem)"},children:"Orders"}),e.jsx("div",{style:{overflowX:"auto",WebkitOverflowScrolling:"touch"},children:e.jsxs("table",{style:{width:"100%",minWidth:"600px",borderCollapse:"collapse",fontSize:window.innerWidth<768?"0.875rem":"1rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"2px solid #eee",textAlign:"left"},children:[e.jsx("th",{className:"py-1",style:{display:window.innerWidth<768?"none":"table-cell"},children:"ID"}),e.jsx("th",{className:"py-1",style:{display:window.innerWidth<768?"none":"table-cell"},children:"USER"}),e.jsx("th",{className:"py-1",style:{display:window.innerWidth<768?"none":"table-cell"},children:"DATE"}),e.jsx("th",{className:"py-1",children:"TOTAL"}),e.jsx("th",{className:"py-1",children:"PAID"}),e.jsx("th",{className:"py-1",children:"DELIVERED"}),e.jsx("th",{className:"py-1",children:"ACTIONS"})]})}),e.jsx("tbody",{children:n.map(s=>e.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[e.jsx("td",{className:"py-1",style:{display:window.innerWidth<768?"none":"table-cell"},children:s._id}),e.jsx("td",{className:"py-1",style:{display:window.innerWidth<768?"none":"table-cell"},children:s.user&&s.user.name}),e.jsx("td",{className:"py-1",style:{display:window.innerWidth<768?"none":"table-cell"},children:s.createdAt.substring(0,10)}),e.jsxs("td",{className:"py-1",children:["Rs ",s.totalPrice]}),e.jsx("td",{className:"py-1",children:s.isPaid?e.jsx("span",{style:{color:"green"},children:s.paidAt.substring(0,10)}):e.jsx(l,{style:{color:"red"}})}),e.jsx("td",{className:"py-1",children:s.isDelivered?e.jsx("span",{style:{color:"green"},children:"Delivered"}):e.jsx(l,{style:{color:"red"}})}),e.jsx("td",{className:"py-1",children:e.jsx(p,{to:`/order/${s._id}`,className:"btn btn-outline",style:{padding:"5px 10px",fontSize:"0.875rem",whiteSpace:"nowrap"},children:"Details"})})]},s._id))})]})})]})};export{j as default};
