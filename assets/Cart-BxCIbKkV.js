import{C as d,u as m,j as s,E as u,m as h}from"./index-CtpoxrkX.js";import{b as p,r as x,L as y}from"./react-vendor-B6jIvKX7.js";import"./icons-5ai6tmcJ.js";const g=()=>{const c=p(),{cartItems:t,removeFromCart:o,addToCart:r}=x.useContext(d),{showToast:l}=m(),i=()=>{const a=JSON.parse(localStorage.getItem("userInfo"));c(a?"/checkout":"/login?redirect=/checkout")},n=t.reduce((a,e)=>a+e.qty*e.price,0).toFixed(2);return s.jsxs("div",{className:"container fade-in",style:{marginTop:"var(--spacing-2xl)",marginBottom:"var(--spacing-3xl)"},children:[s.jsxs("div",{className:"page-header mb-2xl",children:[s.jsx("h1",{className:"page-title gradient-text",children:"Shopping Cart"}),t.length>0&&s.jsxs("p",{className:"page-subtitle",children:[t.reduce((a,e)=>a+e.qty,0)," ",t.reduce((a,e)=>a+e.qty,0)===1?"item":"items"," in your cart"]})]}),t.length===0?s.jsx(u,{type:"cart",title:"Your cart is empty",message:"Start shopping to add items to your cart",actionLabel:"Continue Shopping",actionLink:"/shop"}):s.jsxs("div",{className:"cart-layout",children:[s.jsx("div",{className:"cart-items",children:t.map(a=>s.jsxs("div",{className:"cart-item-card",children:[s.jsx("img",{src:a.image,alt:a.name,className:"cart-item-image"}),s.jsxs("div",{className:"cart-item-info",children:[s.jsx(y,{to:`/product/${a.product}`,className:"cart-item-name",children:a.name}),s.jsxs("div",{className:"cart-item-price-text",children:["Rs ",a.price," each"]}),s.jsxs("div",{className:"cart-item-subtotal",children:["Subtotal: ",s.jsxs("span",{className:"subtotal-amount",children:["Rs ",(a.price*a.qty).toFixed(2)]})]})]}),s.jsx("div",{className:"cart-item-price",children:s.jsxs("span",{children:["Rs ",a.price]})}),s.jsxs("div",{className:"quantity-control",children:[s.jsx("button",{className:"quantity-btn",onClick:()=>{a.qty>1&&r({...a,_id:a.product,countInStock:a.countInStock},a.qty-1)},disabled:a.qty<=1,"aria-label":"Decrease quantity",children:"âˆ’"}),s.jsx("input",{type:"number",className:"quantity-input",value:a.qty,min:"1",max:a.countInStock,readOnly:!0,"aria-label":"Quantity"}),s.jsx("button",{className:"quantity-btn",onClick:()=>{a.qty<a.countInStock&&r({...a,_id:a.product,countInStock:a.countInStock},a.qty+1)},disabled:a.qty>=a.countInStock,"aria-label":"Increase quantity",children:"+"})]}),s.jsx("button",{className:"cart-item-remove",onClick:()=>{o(a.product),l("Item removed from cart","success")},"aria-label":"Remove item",children:s.jsx(h,{})})]},a.product))}),s.jsxs("div",{className:"order-summary-card",children:[s.jsx("h2",{className:"order-summary-title",children:"Order Summary"}),s.jsx("div",{className:"order-summary-divider",children:s.jsxs("div",{className:"order-summary-row",children:[s.jsxs("span",{className:"text-gray-600",children:["Items (",t.reduce((a,e)=>a+e.qty,0),")"]}),s.jsxs("span",{className:"font-semibold",children:["Rs ",n]})]})}),s.jsxs("div",{className:"order-total",children:["Total: ",s.jsxs("span",{className:"total-amount",children:["Rs ",n]})]}),s.jsx("button",{className:"btn btn-primary btn-block btn-lg",disabled:t.length===0,onClick:i,style:{fontWeight:"var(--font-weight-bold)"},children:"Proceed to Checkout"})]})]})]})};export{g as default};
