import{j as e,a as m}from"./index-PvAz_UZ7.js";import{e as x,b as h,r as i}from"./react-vendor-B6jIvKX7.js";import"./icons-5ai6tmcJ.js";const u=()=>{const{id:n}=x(),t=h(),[r,o]=i.useState(null),[a,l]=i.useState(!0);return i.useEffect(()=>{(async()=>{try{const c={headers:{Authorization:`Bearer ${JSON.parse(localStorage.getItem("userInfo")).token}`}},{data:p}=await m.get(`/api/orders/${n}`,c);o(p),l(!1)}catch(d){console.error("Error fetching order:",d),alert("Failed to load order"),t("/admin/orders")}})()},[n,t]),a?e.jsx("div",{className:"container",style:{marginTop:"2rem"},children:"Loading..."}):r?e.jsxs("div",{className:"container",style:{marginTop:"2rem"},children:[e.jsxs("h1",{style:{marginBottom:"2rem",fontSize:"clamp(1.5rem, 5vw, 2rem)"},children:["Order ",r._id]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<768?"1fr":"2fr 1fr",gap:"2rem"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",border:"1px solid #eee",borderRadius:"8px"},children:[e.jsx("h2",{style:{marginBottom:"1rem"},children:"Shipping Address"}),e.jsx("div",{style:{marginBottom:"0.5rem"},children:e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",r.shippingAddress.firstName||r.user.name," ",r.shippingAddress.lastName||""]})}),e.jsx("div",{style:{marginBottom:"0.5rem"},children:e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",r.user.email]})}),e.jsx("div",{style:{marginBottom:"0.5rem"},children:e.jsxs("p",{children:[e.jsx("strong",{children:"Phone Number:"})," ",r.shippingAddress.phoneNumber||"N/A"]})}),e.jsx("div",{style:{marginBottom:"0.5rem"},children:e.jsxs("p",{children:[e.jsx("strong",{children:"Street Address:"})," ",r.shippingAddress.address]})}),e.jsx("div",{style:{marginBottom:"0.5rem"},children:e.jsxs("p",{children:[e.jsx("strong",{children:"City:"})," ",r.shippingAddress.city]})}),r.shippingAddress.state&&e.jsx("div",{style:{marginBottom:"0.5rem"},children:e.jsxs("p",{children:[e.jsx("strong",{children:"State/Province:"})," ",r.shippingAddress.state]})}),e.jsx("div",{style:{marginBottom:"0.5rem"},children:e.jsxs("p",{children:[e.jsx("strong",{children:"Zip/Postal Code:"})," ",r.shippingAddress.postalCode]})}),e.jsx("div",{style:{marginBottom:"0.5rem"},children:e.jsxs("p",{children:[e.jsx("strong",{children:"Country:"})," ",r.shippingAddress.country]})}),r.isDelivered?e.jsxs("div",{style:{padding:"10px",background:"#d4edda",color:"#155724",borderRadius:"4px",marginTop:"1rem"},children:["Delivered on ",new Date(r.deliveredAt).toLocaleDateString()]}):e.jsx("div",{style:{padding:"10px",background:"#f8d7da",color:"#721c24",borderRadius:"4px",marginTop:"1rem"},children:"Not Delivered"})]}),e.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",border:"1px solid #eee",borderRadius:"8px"},children:[e.jsx("h2",{style:{marginBottom:"1rem"},children:"Payment Method"}),e.jsx("p",{children:r.paymentMethod}),r.isPaid?e.jsxs("div",{style:{padding:"10px",background:"#d4edda",color:"#155724",borderRadius:"4px",marginTop:"1rem"},children:["Paid on ",new Date(r.paidAt).toLocaleDateString()]}):e.jsx("div",{style:{padding:"10px",background:"#f8d7da",color:"#721c24",borderRadius:"4px",marginTop:"1rem"},children:"Not Paid"})]}),e.jsxs("div",{style:{padding:"1rem",border:"1px solid #eee",borderRadius:"8px"},children:[e.jsx("h2",{style:{marginBottom:"1rem"},children:"Order Items"}),r.orderItems.map((s,d)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"1rem 0",borderBottom:d<r.orderItems.length-1?"1px solid #eee":"none"},children:[e.jsx("img",{src:s.image,alt:s.name,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"4px",marginRight:"1rem"}}),e.jsx("div",{style:{flex:1},children:e.jsx("div",{children:s.name})}),e.jsxs("div",{style:{textAlign:"right"},children:[s.qty," x Rs ",s.price," = Rs ",(s.qty*s.price).toFixed(2)]})]},d))]})]}),e.jsx("div",{children:e.jsxs("div",{style:{padding:"1rem",border:"1px solid #eee",borderRadius:"8px"},children:[e.jsx("h2",{style:{marginBottom:"1rem"},children:"Order Summary"}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid #eee"},children:[e.jsx("span",{children:"Items:"}),e.jsxs("span",{children:["Rs ",r.itemsPrice]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid #eee"},children:[e.jsx("span",{children:"Shipping:"}),e.jsxs("span",{children:["Rs ",r.shippingPrice]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",borderBottom:"1px solid #eee"},children:[e.jsx("span",{children:"Tax:"}),e.jsxs("span",{children:["Rs ",r.taxPrice]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0",fontWeight:"bold",fontSize:"1.2rem"},children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["Rs ",r.totalPrice]})]})]})})]})]}):e.jsx("div",{className:"container",style:{marginTop:"2rem"},children:"Order not found"})};export{u as default};
